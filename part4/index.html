<!DOCTYPE html>
<html lang="en">
<head>
    <title>http2web</title>
</head>
<style>
    h1 {
        font-family: "Comic Sans MS", monospace;
    }
</style>
<body>

<div style="text-align: center; padding-top: 120px">
    <h1>Hello HTML!</h1>

    <p style="font-style: italic; color: darkblue">HyperText Markup Language</p>

    <p id="counter" style="visibility: hidden">0</p>

    <button id="increment" style="visibility: hidden" onclick="increment()">Increment</button>
</div>


<script>
    function init() {
        var elementCounter = document.getElementById('counter');
        var elementIncrement = document.getElementById('increment');

        fetch('/state')
                .then(response => response.text())
                .then(text => {
                    elementCounter.innerText = text;
                    elementCounter.style.visibility = 'visible';
                    elementIncrement.style.visibility = 'visible';
                })
    }

    init()

    function increment() {
        var element = document.getElementById('counter');

        fetch('/increment')
                .then(response => response.text())
                .then(text => {
                    elementCounter.innerText = text;
                })
    }
</script>

</body>
</html>
